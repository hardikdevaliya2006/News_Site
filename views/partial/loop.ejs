<% news = paginateNews.data %> <% news.forEach((newsItem) => {%>
<div class="post-content">
  <div class="row">
    <div class="col-md-4">
      <a class="post-img" href="/single/<%= newsItem._id %>"
        ><img src="/uploads/<%= newsItem.image %>" alt=""
      /></a>
    </div>
    <div class="col-md-8">
      <div class="inner-content clearfix">
        <h3>
          <a href="/single/<%= newsItem._id %>"><%= newsItem.title %></a>
        </h3>
        <div class="post-information">
          <span>
            <i class="fa fa-tags" aria-hidden="true"></i>
            <a href="/category/<%= newsItem.category.slug %>"
              ><%= newsItem.category.name %></a
            >
          </span>
          <span>
            <i class="fa fa-user" aria-hidden="true"></i>
            <a href="/author/<%= newsItem.author._id %>"
              ><%= newsItem.author.fullname %></a
            >
          </span>
          <span>
            <i class="fa fa-calendar" aria-hidden="true"></i>
            <%= newsItem.createdAt.toDateString() %>
          </span>
        </div>
        <p class="description">
          <%= newsItem.content.substring(0, 30) +'...' %>
        </p>
        <a class="read-more pull-right" href="/single/<%= newsItem._id %>"
          >read more</a
        >
      </div>
    </div>
  </div>
</div>
<% }) %> 

<% function buildQurey(qurey, page) { 
  const params = new URLSearchParams(qurey) 
  params.set('page', page) 
  return '?' + params.toString() 
} 
%>

<nav>
  <ul class="pagination">
    <% if(paginateNews.hasPrevPage){ %>
    <li class="page-item">
      <a
        class="page-link"
        href="<%= buildQurey(qurey, paginateNews.prevPage) %>"
        >Previous</a
      >
    </li>
    <% } else { %>
    <li class="page-item disabled">
      <a class="page-link">Previous</a>
    </li>
    <% } %> <% for(let i = 1; i<=paginateNews.totalPages; i++) { %>
    <li
      class="page-item <%= (i === paginateNews.currentPage) ? 'active' : '' %>"
    >
      <a class="page-link" href="<%= buildQurey(qurey, i) %>"><%= i %></a>
    </li>
    <% } %> <% if(paginateNews.hasNextPage){ %>
    <li class="page-item">
      <a
        class="page-link"
        href="<%= buildQurey(qurey, paginateNews.nextPage) %>"
        >Next</a
      >
    </li>
    <% } else { %>
    <li class="page-item disabled">
      <a class="page-link">Next</a>
    </li>
    <% } %>
  </ul>
</nav>
